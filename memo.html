<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="memo.css">
    <title>Document</title>
    <link rel="stylesheet" href="memo.css">
</head>

<body>
    <div class="memo">
        <title></title>
        <textarea class="text"></textarea>
        <button class="save">저장</button>

        <button class="road">불러오기</button>
        <button class="BgChange">색깔</button>
        <input type="color" class="color">
        <button onclick="change_Gung()">궁서체</button>
        <button onclick="change_Gul()">굴림체</button>
        <button onclick="change_Na()">나눔고딕</button>
        <button onclick="reset()">초기화</button>

        <button onclick="font5()">5px</button>
        <button onclick="font20()">20px</button>
        <button onclick="font50()">50px</button>
        <button onclick="reset_size()">초기화</button>
    </div>
    <ul>
        Memo List
        <li></li>

    </ul>
    <script>
        const text = document.querySelector('.text');
        const btnSave = document.querySelector('.save')
        const btnRoad = document.querySelector('.road')
        const ul = document.querySelector('ul')
        let title
        let liEl = document.querySelectorAll('li')
        btnSave.addEventListener('click', function () {
            if (confirm("저장하시겠습니까?")) {
                title = prompt('제목을 입력해주세요')
                localStorage.setItem(title, text.value)
                let liEl = document.createElement("li");
                liEl.textContent = title;
                ul.appendChild(liEl)
            }})
            //li가 아예 없을때 오류가남
            // 비어있는 가장 첫번째 li를 미리 만들어놓고 display none으로 처리

            liEl.forEach((li)=>{
                li.addEventListener('click', function () {
                    if (confirm("기존 내용이 덮어씌워집니다. 불러오시겠습니까?")) {
                        text.value = localStorage.getItem(title)
                    }
                })
        
            })
            
        
       
        const btnBgChg = document.querySelector('.BgChange');
        const color = document.querySelector('.color');
         
        btnBgChg.addEventListener('click', function () {
            color.classList.toggle("showBg")
        })
        color.addEventListener('input', function () {
            text.style.backgroundColor = color.value
        })

        //--------글꼴 변경---------//
        function change_Gung() {
            document.getElementsByClassName("text").style.fontFamily = "궁서", Gungsuh, Arial, sans - serif;

        }

        function change_Gul() {
            document.getElementsByClassName("text").style.fontFamily = "굴림", Gulim, Arial, sans - serif;
        }

        function change_Na() {
            document.getElementsByClassName("text").style.fontFamily = "나눔 고딕", NanumGothic, Arial, sans - serif;
        }

        function reset() {
            document.getElementsByClassName("text").style.fontFamily = "initial";
        }
        //--------폰트 크기 변경---------//
        function font5() {
            document.getElementsByClassName("text").style.fontSize = "5px";
        }

        function font20() {
            document.getElementsByClassName("text").style.fontSize = "20px";
        }

        function font50() {
            document.getElementsByClassName("text").style.fontSize = "50px";
        }

        function reset_size() {
            document.getElementsByClassName("texts").style.fontSize = "initial";
        }
    </script>
</body>

</html>